(function(e){e.fn.countChars=function(t){var n=e.extend({parentContainer:"div",charsClass:"charsRemaining",position:"before",debug:false,debugMode:"console",clearConsole:false},t);if(n.debug){if(!window.console){window.console={log:function(){}}}if(n.clearConsole&&n.debugMode==="console"){console.clear()}var r=".:|BEGIN DEBUG @ "+(new Date).toString()+"|:.";for(var i in n){r+="\n"+i+" = "+n[i]}r+="\n.:|END DEBUG @ "+(new Date).toString()+"|:.";switch(n.debugMode){case"alert":alert(r);break;case"console":console.log(r);break;default:console.log("This is not the message you are looking for...")}}var s=1;var o="<"+n.parentContainer+"><span class='"+n.charsClass+"'></span> Characters Left</"+n.parentContainer+">";var u="<"+n.parentContainer+"><span class='"+n.charsClass+"'></span> Characters Entered</"+n.parentContainer+">";return this.each(function(){e(this).each(function(){var t=e(this);var r=typeof t.attr("maxlength")!=="undefined";if(r){var i=t.attr("maxlength");var a=t.val().length;var f=i-a}else{var f=t.val().length}if(n.position==="before"){if(t.prev(n.parentContainer).length===0){if(r){e(o).insertBefore(t)}else{e(u).insertBefore(t)}$parent=t.prev(n.parentContainer)}else{$parent=e(n.parentContainer)}}else{if(t.next(n.parentContainer).length===0){if(r){e(o).insertAfter(t)}else{e(u).insertAfter(t)}$parent=t.next(n.parentContainer)}else{$parent=e(n.parentContainer)}}$parent.find("span."+n.charsClass).text(f);s++});e(this).bind("focus change keyup paste",function(){var t=e(this);var r=typeof t.attr("maxlength")!=="undefined";setTimeout(function(){if(r){var e=t.attr("maxlength");var i=t.val().length;var s=e-i}else{var s=t.val().length}if(n.position==="before"){$parent=t.prev(n.parentContainer)}else{$parent=t.next(n.parentContainer)}$parent.find("span."+n.charsClass).text(s)},0)})})}})(jQuery);
